<article>
<section>
<h1 id="header">Treadmill-based task for assessing spatial memory in head-fixed mice</h1>
<p><time datetime="2021-08-27">Published: August 27, 2021</time></p>
<p>Jake T. Jordan,<sup><a href="#aff1">1</a>,<a href="#fn1">3</a>,<a href="#cor1">*</a></sup> Kelsey D. McDermott,<sup><a href="#aff1">1</a></sup> M. Agustina Frechou,<sup><a href="#aff1">1</a></sup> Matthew Shtrahman,<sup><a href="#aff2">2</a></sup> and J. Tiago Gonçalves<sup><a href="#aff1">1</a>,<a href="#fn2">4</a>,<a href="#cor2">**</a></sup></p>
<p id="aff1"><sup>1</sup>Dominick P. Purpura Department of Neuroscience and Gottesman Institute for Stem Cell Biology and Regenerative Medicine, Albert Einstein College of Medicine, Bronx, NY 10461, USA</p>
<p id="aff2"><sup>2</sup>Department of Neurosciences, University of California San Diego, La Jolla, CA 92093, USA</p>
<p id="fn1"><sup>3</sup>Technical contact</p>
<p id="fn2"><sup>4</sup>Lead contact</p>
<p id="cor1"><sup>*</sup>Correspondence: <a href="mailto:jake.jordan@einsteinmed.org">jake.jordan@einsteinmed.org</a></p>
<p id="cor2"><sup>**</sup>Correspondence: <a href="mailto:tiago.goncalves@einsteinmed.org">tiago.goncalves@einsteinmed.org</a></p>
<p><span class="open-access">Open Access</span> • DOI: <a href="https://doi.org/10.1016/j.xpro.2021.100770">10.1016/j.xpro.2021.100770</a></p>
</section>
<section>
<h2 id="summary">Summary</h2>
<p>Several mouse <i>in vivo</i> neuronal recording techniques require head fixation. Head-fixed treadmill walking can be used to design tasks that enable the study of neural activity in the context of behavior. Here, we provide a detailed protocol for constructing a treadmill with tactile spatial cues, training mice on a rewarded behavioral task, and analyzing behavioral data. We discuss common problems and solutions we have developed to optimize training. Finally, we demonstrate how to test spatial memory performance using this task.</p>




<div class="highlights">
<h3>Highlights</h3>
<ul>
<li>Protocol for a rewarded head-fixed treadmill task for mice</li>
<li>Assembly of treadmill and overview of a surgical procedure</li>
<li>Training of mice on head-fixed, rewarded spatial memory tasks</li>
<li>Analysis of reward search by spatial analysis of lick behavior along a treadmill</li>
</ul>
</div>
<div class="graphical-abstract">
<h3>Graphical abstract</h3>
<figure><img src="https://prod-shared-star-protocols.s3.amazonaws.com/protocols/954-GA.jpg" alt="GraphicalAbstract.jpg"></figure>
</div></section>
<section>
<h2 id="before-you-begin">Before you begin</h2>
<p>Prior to beginning, obtain institutional animal use approval and follow legal and ethical guidelines for animal care and use throughout.</p>
<p>The protocol was developed using male and female C57Bl6J mice bred in house and aged 12–13 weeks at the time of surgery were used for these experiments. It can also be used with other strains of mice and has been successfully tested using 18-month-old mice. Animals were housed on a 14/10 h light-dark cycle with experiments performed during the light phase. Laboratory chow was available <i>ad libitum</i>. Except during citric acid water treatment, tap water was available <i>ad libitum</i>. All procedures were approved by the Institutional Animal Care and Use Committee (protocol #: 00001197).</p>
<p>This protocol describes steps for assembling a head-fixed, animal-driven treadmill for mouse behavior (<a href="#bib6">Royer et al., 2012</a>; <a href="#bib2">Danielson et al., 2016</a>) as well as instructions for training the mice and analyzing their behavior. Although similar set-ups that use virtual reality (VR) environments exist, this task in particular is non-visual, relatively easy to learn and can thus be used to train mice with visual or mild cognitive impairments, such as aged or certain transgenic mice. The treadmill consists of a fabric belt wrapped around two foam wheels on ball bearings. Four radio frequency identification (RFID) tags are attached at regularly spaced intervals along the belt and an optical rotary encoder measures the spin of one of the treadmill wheels. The position of the mouse is determined by converting the output voltage of the rotary encoder to the mouse’s velocity between RFID reads. The treadmill belt can occasionally slip on the wheels, introducing an error in the estimation of the position but using several RFID tags at different points along the belt will ensure that this error does not accumulate. Placing RFID tags at transition points between tactile zones also allows for comparisons of behavior and/or neural activity across zones as well as at transition points. An additional RFID tag is placed at a location along the belt where the mouse will receive a reward of sweetened water. These water rewards are dispensed from a lick port equipped with a sensor to measure licking behavior. Spatial learning and memory can be assessed by analyzing the spatial distribution of licking behavior.</p>
<h3 id="sec1.1">3D-printing and machining of custom parts</h3>
<div class="timing">
<span class="timing-title">Timing:</span> 1–2 days</div>
<p>Detailed information on the design and assembly of each component is available on the lab GitHub Page: <a href="https://github.com/GoncalvesLab/HeadFixedTreadmill">https://github.com/GoncalvesLab/HeadFixedTreadmill</a>.</p>
<ol>
<li>3D print the platform used to hold the mouse up during treadmill walking.</li>
<li>Custom-made titanium headbars are implanted on the mouse’s skull to hold it in place during recordings. They can be laser-cut from ∼1–1.5 mm thickness titanium sheet stock and re-used indefinitely.</li>
<li>The head-restraint assembly is made from metal components for maximum stability and durability. Custom metal components (head plate, brackets, etc.) should be cut by an experienced machinist.</li>
<li>The treadmill wheels are made from an exercise roller cut into 9 cm-wide cylinders.
<ol type="a">
<li>As precisely as possible, drill a hole through the center (∼4.5 cm from the edge) and insert one of the axle rods through the center. The wheel (foam roller segment) should be in the middle of the axle rod.</li>
<li>To prevent slippage of the foam wheel against the axle, apply cyanoacrylate glue to the sides of the wheel where the rod is protruding out.</li>
</ol>
</li>
</ol>
<h3 id="sec1.2">Treadmill assembly</h3>
<div class="timing">
<span class="timing-title">Timing:</span> 1 week</div>
<p>The treadmill apparatus consists of several electrical components used to collect data about mouse movement on the treadmill and licking behavior as well as to trigger and administer water rewards (<a href="#fig1">Figures 1</a> and <a href="#fig2">2</a>).</p>
<figure id="fig1"><img src="https://prod-shared-star-protocols.s3.amazonaws.com/protocols/954-Fig1.jpg" alt="Fig1.jpg">
<figcaption>
<div class="figcaption-title">Figure 1. Electronic components of head-fixed treadmill apparatus</div>
</figcaption>
</figure>
<figure id="fig2"><img src="https://prod-shared-star-protocols.s3.amazonaws.com/protocols/954-Fig2.jpg" alt="Fig2.jpg">
<figcaption>
<div class="figcaption-title">Figure 2. Assembled treadmill with a 180-cm-long belt</div>
<p>1 – Grounding copper wire; 2 – treadmill belt; 3 – mouse platform; 4 – head plate; 5 – RFID scanner affixed to the bottom of the platform; 6 – reward port; 7 – optical rotary encoder; 8 – RFID Arduino; 9 – red cable is input from reward port to the lick counter (not pictured). Positioning of all Arduinos, lick counter, pump and NI box is not critical and can be determined by the experimenter’s preference.</p>
</figcaption>
</figure>
<ol start="5">
<li>Setup the data acquisition computer. Experiments are controlled by a PC equipped with a data acquisition card (National Instruments PCIe-6323).
<ol type="a">
<li>Be sure that the computer used has MATLAB (version 2020a or newer) installed with the scripts RunTreadmill.m and OpenTreadmillFile.m stored in a directory listed in the path variable.</li>
</ol>
</li>
</ol>
<div class="note">
<span class="note-title">Note:</span> We are acquiring treadmill data and controlling reward administration using NI hardware and MATLAB software, however other data acquisition systems can also be used, including open-source alternatives based on eg. Raspberry Pi.</div>
<ol start="6">
<li>Insert axle rods into the ball bearings (<a href="#fig3">Figure 3</a>).
<figure id="fig3"><img src="https://prod-shared-star-protocols.s3.amazonaws.com/protocols/954-Fig3.jpg" alt="Fig3.jpg">
<figcaption>
<div class="figcaption-title">Figure 3. Assembly of wheel axle with ball bearings plates</div>
<p>Left: The optical rotary encoder (1) is attached to one of the custom plates (2). The encoder disk (3) is attached to an axle (4) which is inserted into the ball bearings. Right: An axle inserted into the ball bearings (5) on the three other custom plates.</p>
</figcaption>
</figure>
<ol type="a">
<li>One axle will require the wheel of the optical rotary encoder to be attached before it is inserted into the ball bearings.
<ol type="i">
<li>To do this, gently remove the wheel and encoder from the plastic casing so as not to damage the wheel or encoder (the plastic casing can be damaged and discarded).</li>
<li>The encoder will then be attached to custom ball bearings plate with matching screw holes.</li>
</ol>
</li>
</ol>
</li>
<li>Assemble the treadmill wheels.
<ol type="a">
<li>For our purposes, we have extruded 1-inch aluminum rails attached vertically to an air table (<a href="#fig2">Figure 2</a>). These rails form the frame that is used to suspend the wheels, axles and ball bearing plates as well as the platform and RFID reader.</li>
<li>The two rails used to suspend each wheel should be spaced approximately as far apart as the two ball bearings plates on either side of the axles assembled in step 6.</li>
<li>The two suspended wheels should be spaced approximately 50 cm apart from each other with the platform in the middle.</li>
</ol>
</li>
<li>Assemble the platform with RFID scanner attached.
<ol type="a">
<li>We affix the RFID scanner to the bottom of the platform using heavy duty electrical tape directly under where the mouse will be walking.
<ol type="i">
<li>The wires to the RFID scanner should be soldered and individually isolated with heat-shrink tubing, as the vibrations caused by mouse walking can lead to short-circuiting and malfunction.</li>
</ol>
</li>
<li>The height of the platform should be slightly (∼0.5 cm) lower than the top of the two wheels.</li>
</ol>
</li>
<li>Attach the head plate to the head plate brackets and attach the brackets to a pair of rails so that the head plate is approximately 2.5 cm above the platform.</li>
</ol>
<div class="critical">
<span class="critical-title">Critical:</span> (Step 9): Mice may have difficulty running on a surface that is too smooth or be distracted by a surface that is very soft. Pay attention to how mice react when you begin their training, and reassess the quality of the belt and its texture if they have trouble pulling the belt or tend to remain in one area instead of walking (after some training).</div>
<ol start="10">
<li>For the treadmill belt, cut the velvet fabric into 7.5 cm-wide strips. The total length of our belt is 180 cm which can be made from four 45 cm-long strips of velvet appended together. This can be done quickly by stapling the strips together, but they may also be sewn together. Do not close the belt into a ring until it wrapped around both wheels (see step c below).
<ol type="a">
<li>The mouse needs to be able to grip the belt early in training to begin walking. This can be done by using variable tactile cues (e.g., for a spatial memory task) or uniform tactile cues (e.g., if studying non-spatial memory). Sandpaper circles of different grit or stripes made with a hot glue gun can serve this function.</li>
<li>Attach the RFID tags to the underside of the belt with a piece of duct tape.
<ol type="i">
<li>We use 5 tags: 4 for tactile zone transitions and 1 for a reward site.</li>
</ol>
</li>
<li>Wrap the belt around the treadmill wheels and platform and append the ends of the treadmill belt together (stapled or sewn).</li>
</ol>
</li>
<li>Solder a wire to a metal gavage needle. This wire will be plugged into the lick counter. Add the reward port by assembling the gavage needle, tubing and 10 mL syringe. Place the syringe in the clamp on the microinfusion pump and follow manufacturer instructions to program 10 μL pulses. Use a flexible arm clamp to place the reward port near where the mouse will be walking such that it can be near the mouse’s snout during trial but moved away for ease of access when attaching or removing mice.</li>
<li>The rotary encoder and RFID reader are operated with Arduino microcontrollers. Plug wires and BNC cables into the appropriate components following the instructions on our Github (<a href="https://github.com/GoncalvesLab/HeadFixedTreadmill">https://github.com/GoncalvesLab/HeadFixedTreadmill</a>).</li>
<li>Test the treadmill by running a short (∼1 min) test session using the RunTreadmill.m program in MATLAB. Confirm that water rewards are being administered and run the OpenTreadmillFile.m script and follow the instructions at the top of that code to confirm that data from all treadmill components are being correctly acquired.
<ol type="a">
<li>Do this at the beginning of every training day or immediately after changing treadmill belts or reward locations.</li>
</ol>
</li>
<li>For synchronizing the movement, lick and reward data with neuronal recordings (imaging or electrophysiology), generate a transistor-transistor logic (TTL) signal from the recording apparatus and record it by running the wire to an input of the National Instruments data acquisition hardware at the beginning and end of each recording session, or for each frame. For example, many microscopes can output a “FrameOut” signal for each recorded video frame. This signal can be used to synchronize the behavioral data with neural recordings.</li>
</ol>
<div class="note">
<span class="note-title">Note:</span> The treadmill belt does not necessarily need to be made of the same material listed in the <a href="#key-resources-table">key resources table</a>. Whichever material is used will need to be light enough to be easily pulled by the mouse, but must also not slip on the foam wheels. Belt slippage (i.e. when the belt and wheel are not turning at the same rate) will cause an error in estimating the position of the mouse using the output of the optical rotary encoder.</div>
<h3 id="sec1.3">Preparation for surgery</h3>
<div class="timing">
<span class="timing-title">Timing:</span> &lt;1 hour</div>
<ol start="15">
<li>If using the Janelia lick counter, mice will need to be implanted with a grounding pin soldered to a small tungsten wire.
<ol type="a">
<li>To assemble, clamp the gold pin in a helping hand alligator clamp. Insert a tungsten wire into the shallow hole of the flat end of the pin. Solder and then snip the wire approximately 1 mm from the pin. Likewise, solder a female connector to a long piece of wire (long enough to connect the mouse’s implanted pin to the lick counter) to ground the mouse. Licks will be sensed when a grounded mouse contacts the lick port, closing the circuit.</li>
</ol>
</li>
<li>Prepare the surgery area using sterile techniques. For this surgery, in addition to the headbar and grounding pin, you will need:
<ol type="a">
<li>Scalpel</li>
<li>Forceps</li>
<li>Dental curing light for Optibond and Flow-It Accelerated Light Cure (ALC) composite adhesives.</li>
</ol>
</li>
</ol>
<div class="note">
<span class="note-title">Note:</span> Although the Comparator Dual Port Lick Detector requires a grounding pin, not all lick counting systems require this, a possible alternative is to use an optical lick counter. We chose to use the Comparator Dual Port Lick detector because we had previous experience with this system.</div>
</section>
<section>
<h2 id="key-resources-table">Key resources table</h2>
<table id="krt">
<thead>
<tr>
<th>REAGENT or RESOURCE</th>
<th>SOURCE</th>
<th>IDENTIFIER</th>
</tr>
</thead>
<tbody>
<tr>
<td colspan="3">Chemicals, peptides, and recombinant proteins</td>
</tr>
<tr>
<td>Artificial sweetener</td>
<td>Splenda</td>
<td>n/a</td>
</tr>
<tr>
<td>Citric acid</td>
<td>Milliard</td>
<td>MIL-CTRCACD-5-A</td>
</tr>
<tr>
<td>Isoflurane, USP</td>
<td>Covetrus</td>
<td>11695-6777-2</td>
</tr>
<tr>
<td>Carpofen</td>
<td>Zoetis</td>
<td>1041283</td>
</tr>
<tr>
<td>Optibond</td>
<td>Kerr</td>
<td>33381</td>
</tr>
<tr>
<td>Flow-It ALC Flowable Dental Composite</td>
<td>Pentron</td>
<td>N11H</td>
</tr>
<tr>
<td>Dental cement powder</td>
<td>Lang Dental</td>
<td>1330</td>
</tr>
<tr>
<td>Dental cement liquid</td>
<td>Lang Dental</td>
<td>1306</td>
</tr>
<tr>
<td colspan="3">Deposited data</td>
</tr>
<tr>
<td>All code and sample data are available on our GitHub page</td>
<td>Gonçalves Lab GitHub</td>
<td>n/a</td>
</tr>
<tr>
<td colspan="3">Experimental models: Organisms/strains</td>
</tr>
<tr>
<td>C57BL6J mice</td>
<td>Jackson Laboratory</td>
<td>000664</td>
</tr>
<tr>
<td colspan="3">Software and algorithms</td>
</tr>
<tr>
<td>MATLAB</td>
<td>MathWorks</td>
<td>2020a</td>
</tr>
<tr>
<td>Arduino IDE</td>
<td>Arduino</td>
<td>1.8.12</td>
</tr>
<tr>
<td>RFID library for Arduino</td>
<td>Arduino</td>
<td>MRFC-522 Library</td>
</tr>
<tr>
<td colspan="3">Other</td>
</tr>
<tr>
<td>Computer</td>
<td>Dell</td>
<td>Optiplex 7080</td>
</tr>
<tr>
<td>Arduino Uno</td>
<td>Arduino</td>
<td>A000066</td>
</tr>
<tr>
<td>Arduino Due</td>
<td>Arduino</td>
<td>A000062</td>
</tr>
<tr>
<td>Data acquisition card</td>
<td>National Instruments</td>
<td>PCIe-6323</td>
</tr>
<tr>
<td>Breakout box</td>
<td>National Instruments</td>
<td>BNC 2090A</td>
</tr>
<tr>
<td>Data cable</td>
<td>National Instruments</td>
<td>SHC68-68-EPM</td>
</tr>
<tr>
<td>Microinfusion pump</td>
<td>Braintree Scientific</td>
<td>Braintree Scientific BS-8000</td>
</tr>
<tr>
<td>Lick port</td>
<td>Janelia Research Campus</td>
<td>Comparator Dual Port Lick Detector</td>
</tr>
<tr>
<td>Optical rotary encoder</td>
<td>Digi-Key</td>
<td>HEDS-5500#A05</td>
</tr>
<tr>
<td>RFID scanner</td>
<td>SunFounder</td>
<td>RC522</td>
</tr>
<tr>
<td>RFID tags (5)</td>
<td>Amazon</td>
<td>ISO14443A</td>
</tr>
<tr>
<td>Wires</td>
<td>Amazon</td>
<td>120 piece kit</td>
</tr>
<tr>
<td>BNC cables (3)</td>
<td>Amazon</td>
<td>MC2791</td>
</tr>
<tr>
<td>Heat-shrink tubing</td>
<td>Amazon</td>
<td>560 piece set</td>
</tr>
<tr>
<td>Flexible arm (to hold and move lick port):Articulating Magic Arm (11 inch long)</td>
<td>Amazon</td>
<td>Mmo-PN-329618834</td>
</tr>
<tr>
<td>Gold pin (1 per mouse)</td>
<td>a-msystems.com</td>
<td>520200</td>
</tr>
<tr>
<td>Gold pin connector</td>
<td>a-msystems.com</td>
<td>520100</td>
</tr>
<tr>
<td>Copper wire</td>
<td> </td>
<td> </td>
</tr>
<tr>
<td>Velvet textured treadmill material</td>
<td>McMaster-Carr</td>
<td>88015K1</td>
</tr>
<tr>
<td>Custom mouse platform</td>
<td>See GitHub</td>
<td>n/a</td>
</tr>
<tr>
<td>Custom headbar (1 per mouse; reusable)</td>
<td>See GitHub(laser-cut by IMH products <a href="http://IMH.com">IMH.com</a>)</td>
<td>n/a</td>
</tr>
<tr>
<td>Custom head plate</td>
<td>See GitHub</td>
<td>n/a</td>
</tr>
<tr>
<td>Custom head plate brackets (2; 1 left, 1 right)</td>
<td>See GitHub</td>
<td>n/a</td>
</tr>
<tr>
<td>Custom ball bearing plates (3)</td>
<td>See GitHub</td>
<td>n/a</td>
</tr>
<tr>
<td>Custom ball bearing plates with encoder screw holes (1)</td>
<td>See GitHub</td>
<td>n/a</td>
</tr>
<tr>
<td>Exercise roller (cut into 3.5 inch cylinders)</td>
<td>ProsourceFit</td>
<td>High density cylindrical roller 18” (L) x6” (diam.)</td>
</tr>
<tr>
<td>Axles (2)</td>
<td>McMaster-Carr</td>
<td>60355K501</td>
</tr>
<tr>
<td>Ball bearings (4)</td>
<td>McMaster-Carr</td>
<td>1257K86</td>
</tr>
<tr>
<td>10 mL Syringe (20G x 1.5”) (at least 3)</td>
<td>Becton Dickinson</td>
<td>309604</td>
</tr>
<tr>
<td>Gavage needle (for lick port)</td>
<td>Pet Surgical</td>
<td>2018-08</td>
</tr>
<tr>
<td>Tubing</td>
<td>CM Scientific</td>
<td>R-3603</td>
</tr>
<tr>
<td>T-slotted aluminum rails (6; 30.5 cm)</td>
<td>McMaster-Carr</td>
<td>47065T503</td>
</tr>
<tr>
<td>T-slotted framing fasteners (6)</td>
<td>McMaster-Carr</td>
<td>47065T142</td>
</tr>
<tr>
<td>Headbar screws (2)</td>
<td>McMaster-Carr</td>
<td>92196A052</td>
</tr>
<tr>
<td>Forceps</td>
<td>Fisher Scientific</td>
<td>08-953C</td>
</tr>
<tr>
<td>Scalpel (No. 3 handle)</td>
<td>Fisher Scientific</td>
<td>13-812-234</td>
</tr>
<tr>
<td>Sterile scalpel blades</td>
<td>Fisher Scientific</td>
<td>22-079-684</td>
</tr>
</tbody>
</table>
</section>
<section>
<h2 id="step-by-step-method-details">Step-by-step method details</h2>
<h3 id="sec2.1">Surgery</h3>
<div class="timing">
<span class="timing-title">Timing:</span> &lt;1 h for headbar implant only, 1–2 days if including a viral injection and cranial window implant</div>
<p>Here, we describe how to attach the headbar to the mouse skull as well as implant a grounding pin for lick counting. For details on intracranial viral injections and/or cranial window implants, which should be done prior or simultaneously to headbar implantation, see <a href="#bib4">Mizrahi et al. (2004)</a> and <a href="#bib3">Dombeck et al. (2007)</a>.</p>
<ol>
<li>Anesthetize the mouse in accordance with IACUC-approved protocols.</li>
<li>Once anesthetized and unresponsive to touch, maintain anesthesia with 1%–2% isoflurane and 0.5 L/min O<sub>2</sub> with the mouse on a heating pad.</li>
<li>Clean scalp with betadine and 70% ethanol. Use a scalpel to make a longitudinal incision about 5–6 mm long, exposing the skull.</li>
<li>Using scalpel, thoroughly etch the surface of the skull to enhance the bonding of the Optibond and dental cement to the surface of the skull. Then, apply a layer of Optibond dental adhesive over the exposed surface of the skull. If necessary, pull the skin back with forceps to avoid getting Optibond on the skin. Cure the Optibond using blue light.
<ol type="a">
<li>If injecting virus and/or implanting electrodes or a cranial window, follow that procedure now and then return to this protocol.</li>
</ol>
</li>
</ol>
<ol start="5">
<li>If necessary, sterilize grounding pin and implant on the back of the skull, over the cerebellum.
<ol type="a">
<li>Prepare a smooth portion of the back of the skull by trimming away neck muscle and then drill a small (∼1 mm) craniotomy.
<div class="critical">
<span class="critical-title">Critical:</span> The muscle has a tendency to bleed, so carefully scrape away the connective tissue where the muscle connects to the skull with a scalpel to minimize bleeding.</div>
</li>
<li>Using forceps with a steady hand, insert the tungsten wire end of the gold pin into the craniotomy and hold as still as possible. With the other hand, apply Flow-It ALC around the base of the pin and then cure with blue light.
<div class="critical">
<span class="critical-title">Critical:</span> Make sure to implant the pin at an angle (<a href="#fig4">Figure 4</a>) that will not interfere with the treadmill setup when you attach it to the mouse or with the objective if you are imaging.</div>
</li>
</ol>
</li>
</ol>
<figure id="fig4"><img src="https://prod-shared-star-protocols.s3.amazonaws.com/protocols/954-Fig4.jpg" alt="Fig4.jpg">
<figcaption>
<div class="figcaption-title">Figure 4. Three views of a mouse with a surgically implanted cranial window and headbar, head-fixed to a custom head plate</div>
<p>Note the lick port positioned by the spout and a grounding wire connected to an implanted pin.</p>
</figcaption>
</figure>
<p>The blue light used to cure the composite dental adhesives may irritate the mouse’s skin (e.g., ears) when exposed. Aim the light away from it, or cover up any exposed skin when curing.</p>
<ol start="6">
<li>Implant the headbar using dental cement.
<ol type="a">
<li>Apply a thin layer of dental cement over the entire surface of the skull. This layer should have a low viscosity (determined by relative amounts of dental cement powder and dental cement liquid mixed together) to allow it to spread easily.</li>
<li>After 2–3 min, apply a small amount of thick dental cement to the back of the skull. Immediately place the headbar in the middle of this thick spot of cement so that the wings of the headbar are perpendicular to the long axis of the mouse’s body. Be sure to balance the headbar before the cement dries fully so that the mouse will not be at an angle while head-fixed.</li>
<li>Apply one last coat of dental cement over the back of the headbar and spread around to the rest of the skull with care not to cover the wings of the headbar.</li>
</ol>
</li>
<li>Allow the dental cement 5–10 min to dry.</li>
<li>Inject the mouse subcutaneously with 5 mg/kg of carpofen dissolved in saline (at a concentration of 1 mg/mL)and remove from anesthesia.</li>
<li>Mice should begin to recover from anesthesia within minutes and will be fully responsive in approximately one hour.</li>
</ol>
<h3 id="sec2.2">Water restriction and habituation</h3>
<div class="timing">
<span class="timing-title">Timing:</span> 1 week</div>
<p>In order to ensure mice are sufficiently motivated to walk on the treadmill for water rewards, water consumption must be restricted in some way that follows IACUC-approved water deprivation protocols. We replace homecage water with 2% citric acid water, which reduces water intake and is a safer alternative to removing homecage access to water completely (<a href="#bib5">Reinagel, 2018</a>; <a href="#bib7">Urai et al., 2021</a>).</p>
<ol start="10">
<li>Replace homecage water with 2% citric acid water.
<ol type="a">
<li>Weigh mice prior to citric acid water treatment (baseline) and then every day for 5 days and then once per week after treatment has begun.</li>
</ol>
</li>
</ol>
<div class="critical">
<span class="critical-title">Critical:</span> Ensure that animal weight does not drop below 85% of the baseline weight. If this does happen, immediately allow access to 1 mL of clean water. If a mouse continues to be below this threshold, remove from experiments.</div>
<ol start="11">
<li>During the first week of citric acid water treatment, habituate mice to handling by the experimenter in the room in which experiments will be conducted. Do this for at least 3 min per day for 3 days (does not need to be consecutive).</li>
<li>Prior to starting any behavior session, ensure that there is sufficient water in the syringe and that all treadmill data is being acquired.
<ol type="a">
<li>To test whether all data are being acquired, run a test session</li>
</ol>
</li>
<li>One week after the beginning of citric acid water administration, begin training.</li>
</ol>
<h3 id="sec2.3">Treadmill training</h3>
<div class="timing">
<span class="timing-title">Timing:</span> ∼2–3 weeks</div>
<p>Mice will vary in the amount of training sessions needed to walk well on the treadmill. Begin with 20-min training sessions, and reduce the training time as mice improve walking by 5 min per session until training session are 10 min long. Define the number of laps you will need for your experimental purposes, and train mice until the entire cohort has reached that level or has been excluded.</p>
<ol start="14">
<li>Run the program RunTreadmill.m and enter all the relevant information in the GUI.
<ol type="a">
<li>Do not start the data acquisition until the animal is head-fixed.</li>
</ol>
</li>
<li>Affix the headbar to the head plate (<a href="#fig4">Figure 4</a>).
<ol type="a">
<li>If the mouse turns so that its rear legs are to the side or nearly in front of the head, gently tug the treadmill belt until the mouse is in a walking position. Some mice may continue to do this during the first couple of days of training, but it will diminish over time.</li>
</ol>
</li>
</ol>
<div class="critical">
<span class="critical-title">Critical:</span> When placing mice on and off the treadmill, take care not to stress them as this will impair performance. Quickly transfer mice from the cage to the treadmill platform and avoid dangling them by the tail. Do not overly force the mouse into head-fixation. Place the mouse behind the head-fixation stage. Many mice naturally duck their heads under the head-fixation stage to investigate. When they do this, simply pull the belt forward lightly so that the headbar is now near the fixation point and hold the headbar in place while screws are inserted. This minimizes the degree to which you have to force the mouse in place. Over training they will become more used to this process and tend to voluntarily walk to the head-fixation position.</div>
<ol start="16">
<li>On day 1, train the animal to lick the reward spout by administering a free 10 μL reward (10% Splenda in water) and touching it to their snout.
<ol type="a">
<li>Only do this once per day at the beginning of the training session for the first 2–3 days.</li>
</ol>
</li>
<li>Run the session from the MATLAB command line.</li>
<li>Start a timer for the duration of the session. Turn off the room lights and come back when the timer has gone off.</li>
<li>Unscrew the headbar and gently place the mouse back in the homecage.</li>
<li>Check the performance on the task (e.g., rewards earned, licking behavior, etc.) by running the OpenTreadmillFile.m program.</li>
</ol>
<div class="note">
<span class="note-title">Note:</span> Reward volumes vary in the literature (4–20 μL). Although we use a 10 μL reward, others may decide to vary this amount based on their specific experimental needs.</div>
<div class="note">
<span class="note-title">Note:</span> For sanitary purposes, clean the syringe containing sweetened water regularly (once per week) by flushing with 70% ethanol and tap water to avoid mold growth. Regularly clean the area of mouse feces and replace treadmill belts when they become soiled. This will vary based on frequency and volume of use, but is usually around once every 1–2 months.</div>
</section>
<section>
<h2 id="expected-outcomes">Expected outcomes</h2>
<p>The recorded data structure contains the output of the rotary encoder (Treadmill belt movement), licking behavior and reward triggers (<a href="#fig5">Figure 5</a>) as well as scans of each RFID tag.</p>
<figure id="fig5"><img src="https://prod-shared-star-protocols.s3.amazonaws.com/protocols/954-Fig5.jpg" alt="Fig5.jpg">
<figcaption>
<div class="figcaption-title">Figure 5. Example treadmill output data</div>
<p>Data from example sessions of a well-trained mouse receiving sucrose water at the reward site (A) and the same mouse during a probe trial in which reward was omitted (B). Blue traces represent the voltage input commands that would normally trigger reward (pump is disconnected during probe trials, black ticks represent licks, and red traces represent the output of the rotary encoder.</p>
</figcaption>
</figure>
<p>Mice should learn the task in around 2–3 weeks, with the majority of licking occurring at or near the reward zone. Completed laps per session and overall lick rate will generally be low in the beginning of training and will gradually increase. Trained mice have ranged from 2–26 laps per 10-min session. Some experiments may require mice to run a certain number of laps within a certain amount of time and therefore some sessions may fail to reach this threshold, however, this number is likely to vary across experiments and, if applicable, neural recording techniques (see <a href="#fig6">Figure 6</a> for performance of an example cohort from the beginning of training).</p>
<figure id="fig6"><img src="https://prod-shared-star-protocols.s3.amazonaws.com/protocols/954-Fig6.jpg" alt="Fig6.jpg">
<figcaption>
<div class="figcaption-title">Figure 6. Example of 9 mice trained on the treadmill task for 5 days per week for 3 weeks</div>
</figcaption>
</figure>
</section>
<section>
<h2 id="quantification-and-statistical-analysis">Quantification and statistical analysis</h2>
<p>Analysis of spatial licking behavior can be done using our custom software. Typically, learning can be demonstrated by a gradual increase in the fraction of the total licks occurring in the rewarded quadrant of the belt. “Lick maps” can also be computed to help visualize the spatial specificity of lick behavior by dividing the belt into bins of a certain length (e.g., 3 cm) and computing the fraction of all licks occurring in each bin (<a href="#fig7">Figure 7</a>).</p>
<figure id="fig7"><img src="https://prod-shared-star-protocols.s3.amazonaws.com/protocols/954-Fig7.jpg" alt="Fig7.jpg">
<figcaption>
<div class="figcaption-title">Figure 7. A normalized lick rate map of a session run on a 180 cm treadmill</div>
<p>The blue trace indicates the fraction of licks occurring in 3 cm wide bins. A clear preference is shown to lick in vicinity of the reward location.</p>
</figcaption>
</figure>
<p>Spatial memory can be tested by conducting a probe session in which reward is omitted. This removes the possibility that the presence of water in the lick port or any sounds from the reward pump is indicating to the mouse where a reward may be administered. Thus, mouse must rely on memory of the rewarded location to direct licking behavior. To conduct a probe trial, switch off the reward pump and then run a session as you normally would. Overall lick rates will decrease sharply during these sessions as the mice do not get rewards. However, licking behavior will still be concentrated near the reward zone. An alternative to probe trials is to make the reward administration contingent on the detection of licking within the reward location.</p>
</section>
<section>
<h2 id="limitations">Limitations</h2>
<p>Our head-fixed system prohibits studying the contribution of head movement to neuronal activity, although a new device has recently been developed to overcome this limitation (<a href="#bib1">Bakhurin et al., 2020</a>). This is an important limitation to consider for hippocampal studies that may want to analyze head-direction cells and other similar cell types.</p>
<p>Probe sessions, in which the pump is off and no reward is given (<a href="#fig7">Figure 7</a>), can be used to measure lick preference for reward locations. However, these sessions can only be performed 1–2 times per cohort before animals give up on the task entirely.</p>
</section>
<section>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="sec6.1">Problem 1</h3>
<p>Mouse movement can be enough to cause issues such as false lick detection from the lick counter or disconnection of the RFID scanner. If the scanner is temporarily disconnected, it will malfunction and shut off mid-session (steps 18 and 10).</p>
<h3 id="sec6.2">Potential solution</h3>
<p>To prevent false lick detection, we reduced the sensitivity of the lick counter by soldering a 47 nF capacitor at pins IN1 or IN2 and GND (on the bottom of the board). To prevent scanner disconnection, we soldered all wires to the scanner and then carefully insulated each wire with heat shrink tubing at the soldering site.</p>
<h3 id="sec6.3">Problem 2</h3>
<p>Early on in training, some mice will grab the lick port with their front paws as they lick. This will yield a very long pulse that (using our analysis software) will be counted as a single lick, despite many licks occurring (steps 18 and 20).</p>
<h3 id="sec6.4">Potential solution</h3>
<p>This behavior usually goes away with training. If it becomes a recurrent issue, the experimenter may want to put a barrier around the lick port to prevent grabbing. It is always good practice to check the lick data after each session to screen for these types of issues and potentially exclude animals.</p>
<h3 id="sec6.5">Problem 3</h3>
<p>Mice that are small in size due to age or genetic line may have more difficulty pulling the treadmill belt. This could lead to them learning the task more slowly, or result in fewer laps (step 18).</p>
<h3 id="sec6.6">Potential solution</h3>
<p>If possible, use adult mice that are <u>&gt;</u>20 grams so that they can pull the belt easily. If smaller mice are necessary, we recommend trying out different textures to find ones that are easiest for the mice to grip (sandpaper and felt have worked well for us). Additionally, the level between head fixation and belt can be adjusted so that smaller mice have better posture and do not have to stretch.</p>
<h3 id="sec6.7">Problem 4</h3>
<p>Mice do not perform many laps, even with weeks of training (steps 16–20).</p>
<h3 id="sec6.8">Potential solution</h3>
<p>In addition to habituation by the experimenter prior to training, it is recommended that the experimenters avoid stressing mice as much as possible. For instance, chronic drug administration with repeated restraint and injections should be avoided and alternative strategies for drug administration should be followed. Mice should be handled as gently as possible to avoid stress.</p>
<p>If headbars are implanted at an angle so that the mouse’s head is fixed at an unnatural angle during walking, it will likely not ever perform the task. During surgery, ensure that the headbar is attached at an angle consistent with the mouse’s natural head angle during walking.</p>
<h3 id="sec6.9">Problem 5</h3>
<p>Lap sizes computed by the custom analysis software are inconsistent (step 20).</p>
<h3 id="sec6.10">Potential solution</h3>
<p>This is usually caused by the mechanics of the treadmill, e.g., slippage of the belt on the wheel with the optical decoder. If the belt and decoder are not rotating together, then distance computed for each lap (demarked by RFID scans) will be inconsistent and can affect spatial analysis of behavior or neural activity. Make sure that the belt is not wrapped too loose around both wheels. There should be some slack of the belt on the underside of the treadmill, but it should not be dragging on the table. Another possible source is resistance in wheel axles. Check the axles by spinning the wheels and ensure that the rotate smoothly. If not, realign the axle and ball bearings until there is no resistance.</p>
<h3 id="sec6.11">Problem 6</h3>
<p>Mice walk backwards or move the belt back and forth rapidly to trigger water rewards (step 18).</p>
<h3 id="sec6.12">Potential solution</h3>
<p>Older systems have used single reward tags which when scanned, trigger a reward. Mice can “cheat” this system by moving the single tag over the scanner rapidly, triggering many rewards without having to complete laps. Our system is designed to prevent this from occurring by requiring a preceding RFID tag to be scanned prior to the reward RFID tag being scanned to trigger reward. I.e., the mouse has to run forward through the reward zone in order to trigger the reward.</p>
<h3 id="sec6.13">Problem 7</h3>
<p>RunTreadmill.m is freezing and/or rewards are being delivered many seconds after the reward RFID tag is scanned (step 17).</p>
<h3 id="sec6.14">Potential solution</h3>
<p>This has occurred when using version 2019b of MATLAB. Switching to version 2020a resolved this issue.</p>
</section>
<section>
<h2 id="references">References</h2>
<p id="bib1">Bakhurin, K.I., Hughes, R.N., Barter, J.W., Zhang, J., and Yin, H.H. (2020). Protocol for recording from ventral tegmental area dopamine neurons in mice while measuring force during head-fixation. STAR Protoc. <i>1</i>, 100091. <a class="external-link" href="http://refhub.elsevier.com/S2666-1667(21)00476-7/sref1">View at publisher</a></p>
<p id="bib2">Danielson, N.B., Zaremba, J.D., Kaifosh, P., Bowler, J., Ladow, M., and Losonczy, A. (2016). Sublayer-specific coding dynamics during spatial navigation and learning in hippocampal area CA1. Neuron <i>91</i>, 652-665. <a class="external-link" href="http://refhub.elsevier.com/S2666-1667(21)00476-7/sref2">View at publisher</a></p>
<p id="bib3">Dombeck, D.A., Khabbaz, A.N., Collman, F., Adelman, T.L., and Tank, D.W. (2007). Imaging large-scale neural activity with cellular resolution in awake, mobile mice. Nat. Neurosci. <i>56</i>, 43-57. <a class="external-link" href="http://refhub.elsevier.com/S2666-1667(21)00476-7/sref3">View at publisher</a></p>
<p id="bib4">Mizrahi, A., Crowley, J.C., Shtoyerman, E., and Katz, L.C. (2004). High-resolution in vivo imaging of hippocampal dendrites and spines. J. Neurosci. <i>24</i>, 3147-3151. <a class="external-link" href="http://refhub.elsevier.com/S2666-1667(21)00476-7/sref4">View at publisher</a></p>
<p id="bib5">Reinagel, P. (2018). Training rats using water rewards without water restriction. Front. Behav. Neurosci. <i>12</i>, 84. <a class="external-link" href="http://refhub.elsevier.com/S2666-1667(21)00476-7/sref5">View at publisher</a></p>
<p id="bib6">Royer, S., Zemelman, B.V., Losonczy, A., Kim, J., Chance, F., Magee, J.C., and Buzsáki, G. (2012). Control of timing, rate and bursts of hippocampal place cells by dendritic and somatic inhibition. Nat. Neurosci. <i>15</i>, 769-775. <a class="external-link" href="http://refhub.elsevier.com/S2666-1667(21)00476-7/sref6">View at publisher</a></p>
<p id="bib7">Urai, A.E., Aguillon-Rodriguez, V., Laranjeira, I.C., Cazettes, F., International Brain Laboratory, Mainen, Z.F., and Churchland, A.K. (2021). Citric acid water as an alternative to water restriction for high-yield mouse behavior. eNeuro <i>8</i>, ENEURO.0230-20.2020. <a class="external-link" href="http://refhub.elsevier.com/S2666-1667(21)00476-7/sref7">View at publisher</a></p>
</section>
<section>
<h2 id="article-info">Article info</h2>
<h3>Resource availability</h3>
<h4>Lead contact</h4>
<p>Further information and requests for resources and reagents should be directed to and will be fulfilled by the lead contact, Tiago Gonçalves (<a href="mailto:tiago.goncalves@einsteinmed.org">tiago.goncalves@einsteinmed.org</a>).</p>
<h4>Materials availability</h4>
<p>No new reagents were used for this study.</p>
<h4>Data and code availability</h4>
<p>Custom code is available on the Gonçalves lab GitHub Page: <a href="https://github.com/GoncalvesLab/HeadFixedTreadmill">https://github.com/GoncalvesLab/HeadFixedTreadmill</a>.</p>
<h3>Acknowledgments</h3>
<p>J.T.J. was funded by an <a href="https://doi.org/10.13039/100000002">NIH</a> T32 training grant (5 T32 HD098067-03) and would like to thank the <a href="https://doi.org/10.13039/100007857">Intellectual and Developmental Disabilities Research Center</a> for its support (1 P50 HD105352-01; support for the Rose F. Kennedy IDDRC). K.D.M. and M.A.F. were funded by The Einstein Training Program in Stem Cell Research from the Empire State Stem Cell Fund through <a href="https://doi.org/10.13039/100004856">New York State Department of Health</a> Contract C34874GG. M.S. was funded by a <a href="https://doi.org/10.13039/100000065">NINDS</a> K08 grant (NS093130) and a <a href="https://doi.org/10.13039/100000070">NIBIB</a> R21 Trailblazer Award (EB029139-01). <a href="https://doi.org/10.13039/100001391">Whitehall Foundation</a> Research Grant (2019-05-71) was provided to J.T.G. We would like to thank Ehsan Sabri, Eliezyer Fermino De Oliveira, Luke Sjulson, and Renata Batista-Brito for technical advice and assistance.</p>
<h3>Author contributions</h3>
<p>Conceptualization, J.T.J. and J.T.G.; methodology, J.T.J., K.D.M., M.A.F., M.S., and J.T.G.; investigation and visualization, J.T.J.; writing – original draft, J.T.J. and K.D.M.; writing – review and editing, J.T.J., K.D.M., M.A.F., and J.T.G.; supervision, J.T.G.</p>
<h3>Declaration of interests</h3>
<p>The authors declare no competing interests.</p>
</section>
</article>